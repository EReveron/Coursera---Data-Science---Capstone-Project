{
    "collab_server" : "",
    "contents" : "\nlibrary(stringi)\nlibrary(data.table)\n\n#setwd(\"D:/Coursera/Capstone Project/Coursera-SwiftKey/final/en_US/FINAL2/Final 27-06\")\n#setwd(\"D:/001 -- Coursera/Capstone Project/Coursera-SwiftKey/final/en_US\")\n\n# For reproducibility\nset.seed(12345)\n\nsource(\"Pred Next Word vFinal.R\")\nsource(\"Pred Next Word Regex vFinal.R\")\n\n\nlast_n_words <- function(s, num_words = 3) {\n  \n  # Lower, trim and remove additional blank spaces\n  \n  s <- gsub(\"(^[[:space:]]+|[[:space:]]+$)\", \"\", tolower(s))\n  s <- gsub(\"[[:space:]]+\", \" \", s)\n  \n  words_list <- unlist(stri_split_fixed(s,\" \"))\n  \n  l <- length(words_list)\n  \n  if (l < num_words) {\n    # Not enough words in the string, return all the words\n    words_list\n  } else {\n    # Return only the last n words\n    words_list[(l-num_words+1):l]\n  }\n}\n\n\nmain_predict_word <- function(s, p=0,n=5, consider_regex_words = TRUE, lines = -1) {\n  \n  if (s != \"\") {\n    s <- tolower(s)\n    print(paste(\"String:\",s,\"...\",sep=\"\"))\n    \n    is_final_word <- stri_endswith_fixed(s,\" \")\n    \n    list_words <- last_n_words(s)\n    \n    if (consider_regex_words) {\n      # Consider Regex Words in the Prediction\n     \n      if (is_final_word) {\n        print(\"---> Considering Regex: YES, Predicting Next Word with Complete Words ...\")\n        result <- predict_nextword(list_words,p,n,lines)\n      } else {\n        print(\"---> Considering Regex: YES, Predicting Next Word with Regex Words...\")\n        result <- predict_nextword_regex(list_words,p,n,lines)\n        \n      }\n    }\n    else {\n      # Consider Only Complete Words in the Prediction \n      \n      if (is_final_word) {\n        print(\"---> Considering Regex: NO, Predicting Next Word with Complete Words ...\")\n        result <- predict_nextword(list_words,p,n,lines)\n      } else {\n        print(\"---> Considering Regex: NO, Is a Regex Words ... Wait until a Complete Word Appear ...\")\n        result <- as.data.frame(character())\n      }\n    }\n  } else {\n    result <- as.data.frame(character())\n  } \n  result\n}\n\n",
    "created" : 1467119942035.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3743928560",
    "id" : "6F6B04FD",
    "lastKnownWriteTime" : 1467379533,
    "last_content_update" : 1467379533643,
    "path" : "D:/Coursera/Capstone Project/Coursera---Data-Science---Capstone-Project/Main Predict Word vFinal.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}